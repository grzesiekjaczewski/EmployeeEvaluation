@model EmployeeEvaluation.Models.SurveyTemplateExtended

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Edit</h2>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h4>SurveyTemplate</h4>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.Id)

        <div class="form-group">
            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control" } })
                @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.SurveyDate, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                <input class="form-control text-box single-line" data-val="true" data-val-date="Powyższe pole mysi zawierać datę!." data-val-required="Pole Przyjęto jest wymagane." id="StartUsingDate1" name="SurveyDate1" type="datetime" value="@DateTime.Now.Day.ToString("00").@DateTime.Now.Month.ToString("00").@DateTime.Now.Year.ToString("0000")" />
                <span class="field-validation-valid text-danger" data-valmsg-for="SurveyDate1" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Save" class="btn btn-default" />
            </div>
        </div>
    </div>
}

<br />
@*<div id="actionNewSurveyPart" style="display: none;">
        <div class="form-group">
            @Html.LabelFor(model => model.NewPart, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.NewPart, new { htmlAttributes = new { @class = "form-control", @id = "actionNewSurveyPartText1" } })
                @Html.ValidationMessageFor(model => model.NewPart, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.SummaryTitle, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.SummaryTitle, new { htmlAttributes = new { @class = "form-control", @id = "actionNewSurveyPartText2" } })
                @Html.ValidationMessageFor(model => model.SummaryTitle, "", new { @class = "text-danger" })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-2"></div>
            <div class="col-md-10">
                <a href="javascript:document.forms[1].submit()">Zapisz</a>
                <a href="#" onclick="hideAndClearMe('actionNewSurveyPart','actionNewSurveyPartText1','actionNewSurveyPartText2')">Anuluj</a>
            </div>
        </div>
    </div>*@
<div class="form-group">
    <table id="customTable">
        @*<tr>
                <th>
                    Tytuł cześci
                </th>
                <th>
                    Podsumowanie
                </th>
                <th>

                </th>

            </tr>*@
        @foreach (var item in Model.MamberList)
        {
            <tr>
                <td>
                    <div id="actionDisplaySurveyPartText1_@item.Id">
                        @Html.DisplayFor(modelItem => item.Name, new { htmlAttributes = new { @class = "control-label col-md-2" } })
                    </div>
                </td>
                <td>
                    <div id="actionDisplaySurveyPartText2_@item.Id">
                        @Html.DisplayFor(modelItem => item.SummaryTitle, new { htmlAttributes = new { @class = "control-label col-md-2" } })
                    </div>
                </td>
                <td>
                    <a href="#" onclick="actionEdit('@item.Id','actionNewSurveyPartText3','actionNewSurveyPartText4','actionDisplaySurveyPartText1_@item.Id','actionDisplaySurveyPartText2_@item.Id','/SurveyTemplates/EditPart')">Edytuj</a> |
                    <a href="#" onclick="actionAddQuestion('@item.Id','actionNewSurveyPartText5','actionNewSurveyPartText6','/SurveyTemplates/AddQuestion')">Dodaj Pytanie</a>
                    <a href="#" onclick="actionDelete('@item.Id','@item.Name','sekcję ankiety','/SurveyTemplates/DeletePart/')">Usuń</a>
                </td>
            </tr>
            <tr>
                <td>
                    <table>
                        @foreach (var subItem in item.MamberList)
                        {
                            <tr>
                                <td>
                                    uuuuu
                                </td>
                            </tr>
                        }
                    </table>
                </td>
            </tr>
        }
    </table>
</div>
<br />

<div class="form-group">
    <div class="col-md-2">
        <a href="#" onclick="actionAdd('@Model.Id','actionNewSurveyPartText1','actionNewSurveyPartText2','/SurveyTemplates/AddPart')">Dodaj sekcję ankiety</a>
    </div>
</div>

<div class="form-group">
    <div class="col-md-2">
        @Html.ActionLink("Back to List", "Index")
    </div>
</div>

<div id="dialog-add" title="Nowa sekcja">
    <div class="form-group">
        <div class="control-label col-md-6">
            Nazwa Sekcji
        </div>
        <div class="col-md-10">
            <input id="actionNewSurveyPartText1" type="text" class="form-control">
        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-6">
            Opis podsumowania
        </div>
        <div class="col-md-10">
            <input id="actionNewSurveyPartText2" type="text" class="form-control">
        </div>
    </div>
</div>

<div id="dialog-edit" title="Edycja sekcji">
    <div class="form-group">
        <div class="control-label col-md-6">
            Nazwa Sekcji
        </div>
        <div class="col-md-10">
            <input id="actionNewSurveyPartText3" type="text" class="form-control">
        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-6">
            Opis podsumowania
        </div>
        <div class="col-md-10">
            <input id="actionNewSurveyPartText4" type="text" class="form-control">
        </div>
    </div>
</div>

<div id="dialog-add-question" title="Nowe Pytanie">
    <div class="form-group">
        <div class="control-label col-md-6">
            Treść pytania
        </div>
        <div class="col-md-10">
            <textarea id="actionNewSurveyPartText5" cols="40" rows="5" class="form-control"></textarea>
            @*<input id="actionNewSurveyPartText3" type="text" class="form-control">*@

        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-6">
            Kryteria oceny
        </div>
        <div class="col-md-10">
            <input id="actionNewSurveyPartText6" type="text" class="form-control">
        </div>
    </div>
    <div class="form-group">
        <div class="control-label col-md-6">
            Rodzaj pytania
        </div>
        <div class="col-md-10">
            <select class="form-control">
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </select>
        </div>
    </div>

</div>


<div id="dialog-confirm" title="Usuwanie sekcji ankiety">
    <p id="confirmchapter"><span class="ui-icon ui-icon-alert" style="float:left; margin:12px 12px 20px 0;"></span>Czy na pewno usunąć sekcję?</p>
</div>

@section Scripts {
    @Scripts.Render("~/Scripts/myEditDialog.js")
    @Scripts.Render("~/Scripts/myAddDialog.js")
    @Scripts.Render("~/Scripts/myAddQuestionDialog.js")
    @Scripts.Render("~/Scripts/myDeleteDialog.js")
}
